<!DOCTYPE html>
<html>
  <head>
    <title>Markdown TOC Generator</title>
    <style>
      body {
        background-color: #FFD6D7;
        font-family: Helvetica, Arial, sans-serif;
        color: #222222;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        height: 100vh;
        margin: 0;
        padding: 0;
      }

      #header-image {
        width: 75%;
        height: auto;
      }

      form {
        display: flex;
        flex-direction: column;
        align-items: center;
      }

      #submit-button {
        background-color: #222222;
        color: #FFD6D7;
        padding: 10px;
        font-size: 1.2em;
        margin-top: 10px;
      }

      #github-link {
        font-size: 0.8em;
        margin-top: 20px;
      }

      label {
        font-weight: bold;
      }

    </style>
  </head>
  <body>
    <img id="header-image" src="img/header.jpg" alt="Header Image">
    <form id="markdown-form">
      <label for="markdown">Paste your markdown here:</label><br>
      <textarea id="markdown" name="markdown" rows="10" cols="30"></textarea><br>
      <input id="submit-button" type="submit" value="Generate TOC">
    </form>
    <label for="toc">Table of contents:</label>
    <textarea id="toc" rows="10" cols="30" readonly></textarea>

    <p id="github-link">Hosted on GitHub pages</p>

    <script>
      document.getElementById('markdown-form').addEventListener('submit', function(event) {
        event.preventDefault();
        var markdown = document.getElementById('markdown').value;
        var lines = markdown.split('\n');
        var toc = [];
        for (var i = 0; i < lines.length; i++) {
          var match = lines[i].match(/^(#{1,6})\s(.+)/);
          if (match) {
            var level = match[1].length;
            var text = match[2];
            var link = text.toLowerCase().replace(/[^\w\s]/g, '').replace(/\s/g, '-');
            toc.push({ level: level, text: text, link: link });
          }
        }
        var tocHTML = '';
        for (var i = 0; i < toc.length; i++) {
          var indent = '- ';
          if (toc[i].level > 1) {
            indent = Array(toc[i].level).join('  ') + '* ';
          }
          tocHTML += indent + '[' + toc[i].text + '](#' + toc[i].link + ')\n';
        }
        document.getElementById('toc').value = tocHTML;
      });
    </script>
  </body>
</html>
